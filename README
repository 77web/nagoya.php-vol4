2014/03/15 Nagoya.php vol4 にて皆で「フォークじゃない」
http://nabetani.sakura.ne.jp/hena/ord18notfork/
を解いたときに私が書いたコードの記録です。

やったことメモ
---------------

* PHP.Skeletonをcloneして新たにgit init
* サンプルデータの一行目を通すテストケースを書いた
* テストしやすさの都合からメインの処理を書く場所をクラス内にした
* 一度に処理できる客数・現在の待ち客数・xの客にはまったかどうか、をレジごとに保持したかったのでレジはレジクラスと考え、テストケースと大枠の内容を書いた
* 入力値の処理（それぞれの入力値別にレジインスタンスのどのメソッドを呼ぶか）を先に書いた
* 新しい客を割り当てるレジの算出を最後に書いた
* x客の扱いコーディングで勘違いがあった（xの客が並んだら即処理が止まるように書いてしまってた）のを発見し、カウントダウンするように書き直し始める
* カウントダウン処理でまごついてる間にタイムアップ
* 懇親会後帰宅してカウントダウン処理を見直し、修正して全テストケースOK
* テストOK後で気になった部分・後回しにした部分の微修正

反省点・感想など
----------------

* 深く考えずにサンプルデータの一行目を使ってしまったが、二行目からしばらく続く単純なサンプルデータを順番につぶしていった方が良かったかもしれない
* クラス名・変数名・メソッド名が割と（悪い意味で）適当すぎた
* phpunitの@dataProviderすごい便利。サンプルデータリストを見た瞬間、dataProvider使わなかったら無理だと思った。公開コーディングしていた後藤さんがテストデータの扱いで大変だとおっしゃっているのを聞いて、勝手に私の選択は正しかったとか思ってしまったぐらい。
